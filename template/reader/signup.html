{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="{% static 'css/output.css' %}" rel="stylesheet" />
  </head>

  <body class="flex items-center justify-center min-h-screen bg-orange-50">
    <div class="w-full max-w-sm p-8 space-y-6 bg-gradient-to-br from-orange-100 to-orange-200 rounded-2xl shadow-xl border border-amber-900">
      <div class="relative">
        <h2 class="text-3xl font-extrabold text-amber-950 text-center">Sign Up</h2>
        <a href="{% url 'home' %}" class="absolute top-0 right-0 text-amber-950 hover:text-orange-500 text-2xl font-bold">&times;</a>
      </div>

      <form action="#" method="POST" class="space-y-5">
        {% csrf_token %}

        <!-- Username -->
        <div>
          <label for="username" class="block text-sm font-medium text-amber-950">Username</label>
          <input type="text" id="username" name="username" required class="w-full px-4 py-3 mt-1 border rounded-xl border-amber-900 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm placeholder-amber-900" placeholder="Choose a username" />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-amber-950">Email</label>
          <input type="email" id="email" name="email" required class="w-full px-4 py-3 mt-1 border rounded-xl border-amber-900 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm placeholder-amber-900" placeholder="Enter your email" />
        </div>

        <!-- Password -->
        <div>
          <label for="password" class="block text-sm font-medium text-amber-950">Password</label>
          <input type="password" id="password" name="password" required class="w-full px-4 py-3 mt-1 border rounded-xl border-amber-900 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm placeholder-amber-900" placeholder="Enter your password" />
        </div>

        <!-- Confirm Password -->
        <div>
          <label for="confirm-password" class="block text-sm font-medium text-amber-950">Confirm Password</label>
          <input type="password" id="confirm-password" name="confirm-password" required class="w-full px-4 py-3 mt-1 border rounded-xl border-amber-900 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-sm placeholder-amber-900" placeholder="Re-enter your password" />
        </div>

        <!-- Submit -->
        <button type="submit" class="w-full px-4 py-3 text-white bg-amber-900 rounded-xl hover:bg-amber-800 hover:scale-105 transform transition-all shadow-md">Sign Up</button>

        <p class="text-sm text-center text-amber-950">
          Already have an account?
          <a href="{% url 'login' %}" class="font-semibold text-amber-950 hover:text-orange-500 transition-colors">Log In</a>
        </p>
      </form>
    </div>

    <!-- Auto-hide Toast -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const password = document.getElementById('password')
        const confirmPassword = document.getElementById('confirm-password')
        const submitBtn = document.querySelector('button[type="submit"]')
      
        // Disable submit by default
        submitBtn.disabled = true
        submitBtn.style.opacity = '0.5'
        submitBtn.style.cursor = 'not-allowed'
      
        function validatePassword() {
          if (password.value && confirmPassword.value && password.value === confirmPassword.value) {
            submitBtn.disabled = false
            submitBtn.style.opacity = '1'
            submitBtn.style.cursor = 'pointer'
          } else {
            submitBtn.disabled = true
            submitBtn.style.opacity = '0.5'
            submitBtn.style.cursor = 'not-allowed'
          }
        }
      
        password.addEventListener('input', validatePassword)
        confirmPassword.addEventListener('input', validatePassword)
      })
    </script>
  </body>
</html>
